<div *ngIf = "teatroIsShown == false">
  <app-access (KeyEvent)="download($event)"> </app-access>
</div>
<div *ngIf="teatroIsShown" >
  <h5>Inserisci nominativo</h5>
  <app-newpren (newPrenEvent)="addPren($event)" ></app-newpren>
  <p *ngIf="prenotazioni.length == 1">{{prenotazioni[0]}} scegli il posto</p>
</div>
<span *ngIf = "prenotazioni.length == 0; else altro">
  <div *ngIf="teatroIsShown" >
    <h3>Platea</h3>
    <div *ngFor="let fila of teatro.platea; let i = index"  >
      <span *ngFor="let posto of fila; let j = index" >
          <button class="cacca" id ="bottone" (click)="Mostra(i,j)"[ngStyle]="{ 'color': teatro.platea[i][j] !='x' ? 'red' : 'green' }">P{{ i + 1 }}{{ j + 1 }} </button>
      </span>
    </div>
    <h3>Palchi</h3>
    <div *ngFor="let fila of teatro.palchi; let i = index" >
      <span *ngFor="let posto of fila; let j = index" >
          <button class="cacca" id ="bottone"  (click)="MostraP(i,j)" [ngStyle]="{ 'color': teatro.palchi[i][j] !='x' ? 'red' : 'green' }">P{{ i + 1 }}{{ j + 1 }} </button>
      </span>
    </div>
  </div>
</span>

<ng-template #altro>
  <div *ngIf="teatroIsShown">
    <h3>Platea</h3>
    <div *ngFor="let fila of teatro.platea; index as i" >
      <span *ngFor="let posto of fila; index as j" >
        <button class="cacca" id ="bottone"  (click)="Mostra2(i,j)" [ngStyle]="{ 'color': teatro.platea[i][j] !='x' ? 'red' : 'green' }"> P{{ i + 1 }}{{ j + 1 }}</button>
      </span>
    </div>
    <div *ngIf="teatroIsShown">
      <h3>Palchi</h3>
      <div *ngFor="let fila of teatro.palchi; index as i" >
        <span *ngFor="let posto of fila; index as j" >
          <button class="cacca" id ="bottone"  (click)="MostraP2(i,j)" [ngStyle]="{ 'color': teatro.platea[i][j] !='x' ? 'red' : 'green' }" > P{{ i + 1 }}{{ j + 1 }}</button>
        </span>
      </div>
    </div>
  </div>  
</ng-template>

<app-clean [postoC] = "nome" ></app-clean>


